import{_ as c}from"./ValaxyMain.vue_vue_type_style_index_0_lang-Bn109ln0.js";import{c as p,w as t,f as w,a as x,p as u,o as M,g as l,h as n,r as m}from"./app-DvGICojQ.js";import"./YunFooter.vue_vue_type_style_index_0_lang-6I6EwKPx.js";import"./YunCard.vue_vue_type_script_setup_true_lang-G2SLBOpE.js";import"./index-C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-B-GmT0Fn.js";import"./post-JeTKiWMk.js";const g="/assets/lattice-v38bJSPu.png",f="/assets/may-analysis-uYTpZCuQ.png",y="/assets/must-analysis-Bq51So9c.png",d="/assets/mop-eg-2i1ud7uv.jpg",k="/assets/cp-eg-C0SHSYY-.jpg",S={__name:"20240801 4 数据流分析-基础",setup(L,{expose:r}){const s=JSON.parse('{"title":"4 数据流分析-基础","description":"","frontmatter":{"title":"4 数据流分析-基础","date":"2024-08-01T00:00:00.000Z","tags":["静态代码分析"],"categories":["静态代码分析"]},"headers":[{"level":2,"title":"4.1 重新审视迭代算法","slug":"_4-1-重新审视迭代算法","link":"#_4-1-重新审视迭代算法","children":[]},{"level":2,"title":"4.2 唤醒一些记忆深处的数学","slug":"_4-2-唤醒一些记忆深处的数学","link":"#_4-2-唤醒一些记忆深处的数学","children":[{"level":3,"title":"4.2.1 偏序","slug":"_4-2-1-偏序","link":"#_4-2-1-偏序","children":[]},{"level":3,"title":"4.2.2 格","slug":"_4-2-2-格","link":"#_4-2-2-格","children":[]},{"level":3,"title":"4.2.3 不动点","slug":"_4-2-3-不动点","link":"#_4-2-3-不动点","children":[]},{"level":3,"title":"4.2.4 分配律","slug":"_4-2-4-分配律","link":"#_4-2-4-分配律","children":[]}]},{"level":2,"title":"4.3 基于格的数据流分析框架","slug":"_4-3-基于格的数据流分析框架","link":"#_4-3-基于格的数据流分析框架","children":[]},{"level":2,"title":"4.4 格视角下的可能性分析与必然性分析","slug":"_4-4-格视角下的可能性分析与必然性分析","link":"#_4-4-格视角下的可能性分析与必然性分析","children":[{"level":3,"title":"4.4.1 可能性分析","slug":"_4-4-1-可能性分析","link":"#_4-4-1-可能性分析","children":[]},{"level":3,"title":"4.4.2 必然性分析","slug":"_4-4-2-必然性分析","link":"#_4-4-2-必然性分析","children":[]}]},{"level":2,"title":"4.5 算法精度分析","slug":"_4-5-算法精度分析","link":"#_4-5-算法精度分析","children":[{"level":3,"title":"4.5.1 全路交汇的解决方案","slug":"_4-5-1-全路交汇的解决方案","link":"#_4-5-1-全路交汇的解决方案","children":[]},{"level":3,"title":"4.5.2 MOP与迭代算法的比较","slug":"_4-5-2-mop与迭代算法的比较","link":"#_4-5-2-mop与迭代算法的比较","children":[]}]},{"level":2,"title":"4.6 常量传播","slug":"_4-6-常量传播","link":"#_4-6-常量传播","children":[{"level":3,"title":"4.6.1 问题描述","slug":"_4-6-1-问题描述","link":"#_4-6-1-问题描述","children":[]},{"level":3,"title":"4.6.2 问题分析","slug":"_4-6-2-问题分析","link":"#_4-6-2-问题分析","children":[]},{"level":3,"title":"4.6.3 区别","slug":"_4-6-3-区别","link":"#_4-6-3-区别","children":[]}]},{"level":2,"title":"4.7 工作表算法","slug":"_4-7-工作表算法","link":"#_4-7-工作表算法","children":[]},{"level":2,"title":"4.8 自检问题","slug":"_4-8-自检问题","link":"#_4-8-自检问题","children":[]}],"relativePath":"pages/posts/静态代码分析/20240801 4 数据流分析-基础/20240801 4 数据流分析-基础.md","path":"/home/runner/work/LiuZhuJunYa.github.io/LiuZhuJunYa.github.io/pages/posts/静态代码分析/20240801 4 数据流分析-基础/20240801 4 数据流分析-基础.md","lastUpdated":1731428437000}'),o=x(),i=s.frontmatter||{};return o.meta.frontmatter=Object.assign(o.meta.frontmatter||{},s.frontmatter||{}),u("pageData",s),u("valaxy:frontmatter",i),globalThis.$frontmatter=i,r({frontmatter:{title:"4 数据流分析-基础",date:"2024-08-01T00:00:00.000Z",tags:["静态代码分析"],categories:["静态代码分析"]}}),(a,e)=>{const h=c;return M(),p(h,{frontmatter:w(i)},{"main-content-md":t(()=>e[0]||(e[0]=[l("p",null,[n("原文链接："),l("a",{href:"https://static-analysis.cuijiacai.com/04-dfa-fd/",target:"_blank",rel:"noreferrer"},"https://static-analysis.cuijiacai.com/04-dfa-fd/")],-1),l("h1",{id:"_4-数据流分析-基础",tabindex:"-1"},[n("4 数据流分析-基础 "),l("a",{class:"header-anchor",href:"#_4-数据流分析-基础","aria-label":'Permalink to "4 数据流分析-基础"'},"​")],-1),l("h2",{id:"_4-1-重新审视迭代算法",tabindex:"-1"},[n("4.1 重新审视迭代算法 "),l("a",{class:"header-anchor",href:"#_4-1-重新审视迭代算法","aria-label":'Permalink to "4.1 重新审视迭代算法"'},"​")],-1),l("div",{class:"algorithm"},[l("p",{class:"title"},"算法4.1 可能性（May Analysis）正向（Forward Analysis）数据流分析的迭代（Iterative）算法"),l("iframe",{src:"/posts/StaticAnalytics/04-dfa-fd/may-forward-analysis-iterative.html",frameborder:"no",border:"0",marginwidth:"0",width:"100%",height:"315px",marginheight:"0",scrolling:"auto",style:{"box-shadow":"none"}})],-1),l("p",null,"其他类型的数据流分析也有类似的迭代算法，我们后续以算法4.1为例进行理论的分析和讲解。迭代算法是一个具有通用性的数据流分析算法，能够提供一种数据流分析的解决方案（解决方案的含义见结论3.2）。",-1),l("p",null,"下面我们从另一个视角来审视一下迭代算法。",-1),l("ul",null,[l("li",null,[l("p",null,[n("给定一个具有k个结点的程序流程图CFG，对于CFG中的每个结点 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"n")]),l("annotation",{encoding:"application/x-tex"},"n")])])]),n(" ，迭代算法的每一次迭代都会更新 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("mi",null,"n"),l("mo",{stretchy:"false"},"]")]),l("annotation",{encoding:"application/x-tex"},"OUT[n]")])])]),n(" ；")])]),l("li",null,[l("p",null,[n("设数据流分析的定义域 为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"V")]),l("annotation",{encoding:"application/x-tex"},"V")])])]),n(" ，我们可以定义一个 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"k")]),l("annotation",{encoding:"application/x-tex"},"k")])])]),n(" 元组（k-tuple）来表示每次迭代后的分析值：")])])],-1),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("msub",null,[l("mi",null,"n"),l("mn",null,"1")]),l("mo",{stretchy:"false"},"]"),l("mo",{separator:"true"},","),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("msub",null,[l("mi",null,"n"),l("mn",null,"2")]),l("mo",{stretchy:"false"},"]"),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("msub",null,[l("mi",null,"n"),l("mi",null,"k")]),l("mo",{stretchy:"false"},"]"),l("mo",{stretchy:"false"},")"),l("mo",null,"∈"),l("mi",null,"V"),l("mo",null,"×"),l("mi",null,"V"),l("mo",null,"×"),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",null,"×"),l("mi",null,"V"),l("mo",null,"="),l("msup",null,[l("mi",null,"V"),l("mi",null,"k")])]),l("annotation",{encoding:"application/x-tex"},"(OUT[n_1], OUT[n_2], ..., OUT[n_k]) \\in V \\times V \\times ... \\times V = V^k ")])])])],-1),l("ul",null,[l("li",null,[l("p",null,[n("每次迭代可以视为将 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msup",null,[l("mi",null,"V"),l("mi",null,"k")])]),l("annotation",{encoding:"application/x-tex"},"V^k")])])]),n(" 中的某个值映射为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msup",null,[l("mi",null,"V"),l("mi",null,"k")])]),l("annotation",{encoding:"application/x-tex"},"V^k")])])]),n(" 中的另一个值，通过状态转移方程和控制流约束式，这个过程可以抽象为一个函数 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"F"),l("mrow",null,[l("msup",null,[l("mi",null,"V"),l("mi",null,"k")]),l("mo",null,"→"),l("msup",null,[l("mi",null,"V"),l("mi",null,"k")])])])]),l("annotation",{encoding:"application/x-tex"},"F_{V^k \\to V^k}")])])]),n(" ；")])]),l("li",null,[l("p",null,"然后这个算法会输出一系列的k元组，直到某两个连续输出的k元组完全相同的时候算法终止。")])],-1),l("p",null,"于是，算法的过程可以表示为：",-1),l("table",null,[l("thead",null,[l("tr",null,[l("th",{style:{"text-align":"center"}},"初始化"),l("th",{style:{"text-align":"center"}},[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"X"),l("mn",null,"0")])]),l("annotation",{encoding:"application/x-tex"},"(\\bot, \\bot, ..., \\bot) = X_0")])])])])])]),l("tbody",null,[l("tr",null,[l("td",{style:{"text-align":"center"}},"第1次迭代"),l("td",{style:{"text-align":"center"}},[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msubsup",null,[l("mi",null,"v"),l("mn",null,"1"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msubsup",null,[l("mi",null,"v"),l("mn",null,"2"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msubsup",null,[l("mi",null,"v"),l("mi",null,"k"),l("mn",null,"1")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"X"),l("mn",null,"1")]),l("mo",null,"="),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"X"),l("mn",null,"0")]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(v_1^1, v_2^1, ..., v_k^1) = X_1 = F(X_0)")])])])])]),l("tr",null,[l("td",{style:{"text-align":"center"}},"第2次迭代"),l("td",{style:{"text-align":"center"}},[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msubsup",null,[l("mi",null,"v"),l("mn",null,"1"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("msubsup",null,[l("mi",null,"v"),l("mn",null,"2"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msubsup",null,[l("mi",null,"v"),l("mi",null,"k"),l("mn",null,"2")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"X"),l("mn",null,"2")]),l("mo",null,"="),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"X"),l("mn",null,"1")]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(v_1^2, v_2^2, ..., v_k^2) = X_2 = F(X_1)")])])])])]),l("tr",null,[l("td",{style:{"text-align":"center"}},"…"),l("td",{style:{"text-align":"center"}},"…")]),l("tr",null,[l("td",{style:{"text-align":"center"}},"第i次迭代"),l("td",{style:{"text-align":"center"}},[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msubsup",null,[l("mi",null,"v"),l("mn",null,"1"),l("mi",null,"i")]),l("mo",{separator:"true"},","),l("msubsup",null,[l("mi",null,"v"),l("mn",null,"2"),l("mi",null,"i")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msubsup",null,[l("mi",null,"v"),l("mi",null,"k"),l("mi",null,"i")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"X"),l("mi",null,"i")]),l("mo",null,"="),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"X"),l("mrow",null,[l("mi",null,"i"),l("mo",null,"−"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(v_1^i, v_2^i, ..., v_k^i) = X_i = F(X_{i - 1})")])])])])]),l("tr",null,[l("td",{style:{"text-align":"center"}},"第i+1次迭代"),l("td",{style:{"text-align":"center"}},[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msubsup",null,[l("mi",null,"v"),l("mn",null,"1"),l("mi",null,"i")]),l("mo",{separator:"true"},","),l("msubsup",null,[l("mi",null,"v"),l("mn",null,"2"),l("mi",null,"i")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msubsup",null,[l("mi",null,"v"),l("mi",null,"k"),l("mi",null,"i")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"X"),l("mrow",null,[l("mi",null,"i"),l("mo",null,"+"),l("mn",null,"1")])]),l("mo",null,"="),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"X"),l("mi",null,"i")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"X"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"(v_1^i, v_2^i, ..., v_k^i) = X_{i + 1} = F(X_i) = X_i")])])])])])])],-1),l("p",null,[n("其中， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msubsup",null,[l("mi",null,"v"),l("mi",null,"i"),l("mi",null,"j")])]),l("annotation",{encoding:"application/x-tex"},"v_i^j")])])]),n(" 表示第i个结点第j次迭代后的数据流值。")],-1),l("p",null,[n("算法终止的时候，我们发现 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"X"),l("mrow",null,[l("mi",null,"i"),l("mo",null,"+"),l("mn",null,"1")])]),l("mo",null,"="),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"X"),l("mi",null,"i")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"X"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"X_{i + 1} = F(X_i) = X_i")])])]),n(" ，因此 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"X"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"X_i")])])]),n(" 是函数 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F")]),l("annotation",{encoding:"application/x-tex"},"F")])])]),n(" 的一个"),l("strong",null,"不动点（Fixed Point）"),n("，故而我们称算法到达了一个不动点。")],-1),l("p",null,"不过这时我们会有一些疑问：",-1),l("ul",null,[l("li",null,[l("p",null,"算法保证能够终止吗？也就是说不动点一定存在吗？或者说数据流分析是否总会有一个解决方案？")]),l("li",null,[l("p",null,"如果是的话，不动点是只有一个吗？不止一个的话，我们算法终止的不动点是最好的那个吗？")]),l("li",null,[l("p",null,"算法什么时候会到达不动点？或者说我们什么时候能够得到一个解决方案？")])],-1),l("p",null,"为了回答上面这些问题，我们需要一些离散数学的内容作铺垫。",-1),l("h2",{id:"_4-2-唤醒一些记忆深处的数学",tabindex:"-1"},[n("4.2 唤醒一些记忆深处的数学 "),l("a",{class:"header-anchor",href:"#_4-2-唤醒一些记忆深处的数学","aria-label":'Permalink to "4.2 唤醒一些记忆深处的数学"'},"​")],-1),l("h3",{id:"_4-2-1-偏序",tabindex:"-1"},[n("4.2.1 偏序 "),l("a",{class:"header-anchor",href:"#_4-2-1-偏序","aria-label":'Permalink to "4.2.1 偏序"'},"​")],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.1"),l("p",null,[n("我们定义"),l("strong",null,[n("偏序集（Poset）"),l("strong",null,[n("为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" ，其中 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"⪯")]),l("annotation",{encoding:"application/x-tex"},"\\preceq")])])]),n(" 为一个")]),n("二元关系（Binary Relation）")]),n("，这个二元关系在 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"P")])])]),n(" 上定义了 "),l("strong",null,"偏序（Partial Ordering）"),n(" 关系，并且 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"⪯")]),l("annotation",{encoding:"application/x-tex"},"\\preceq")])])]),n(" 具有如下性质：")]),l("ol",null,[l("li",null,[l("p",null,[l("strong",null,"自反性（Reflexivity）"),n(" ： "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"x"),l("mo",null,"∈"),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"\\forall x\\in P, x \\preceq x")])])]),n(" ；")])]),l("li",null,[l("p",null,[l("strong",null,"反对称性（Antisymmetry）"),n(" ： "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"y"),l("mo",null,"∈"),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"y"),l("mo",null,"∧"),l("mi",null,"y"),l("mo",null,"⪯"),l("mi",null,"x"),l("mo",null,"⇒"),l("mi",null,"x"),l("mo",null,"="),l("mi",null,"y")]),l("annotation",{encoding:"application/x-tex"},"\\forall x, y\\in P, x \\preceq y \\wedge y \\preceq x \\Rightarrow x = y")])])]),n(" ；")])]),l("li",null,[l("p",null,[l("strong",null,"传递性（Transitivity）"),n(" ： "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"y"),l("mo",{separator:"true"},","),l("mi",null,"z"),l("mo",null,"∈"),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"y"),l("mo",null,"∧"),l("mi",null,"y"),l("mo",null,"⪯"),l("mi",null,"z"),l("mo",null,"⇒"),l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"z")]),l("annotation",{encoding:"application/x-tex"},"\\forall x, y, z \\in P, x \\preceq y \\wedge y \\preceq z \\Rightarrow x \\preceq z")])])]),n(" 。")])])])],-1),l("p",null,[n("例如 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"Z"),l("mo",{separator:"true"},","),l("mo",null,"≤"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(Z, \\le)")])])]),n(" 是偏序集， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msup",null,[l("mn",null,"2"),l("mi",null,"S")]),l("mo",{separator:"true"},","),l("mo",null,"⊆"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(2^S, \\subseteq)")])])]),n(" 也是偏序集。并且，偏序意味着集合中可能存在某两个元素，它们之间是不可比（Incomparable）的。任意两个元素都可比的偏序集称为全序集。")],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.2"),l("p",null,[n("考虑偏序集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" 及其子集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S"),l("mo",null,"⊆"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"S \\subseteq P")])])]),n(" ，我们称 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"u"),l("mo",null,"∈"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"u\\in P")])])]),n(" 是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"S")])])]),n(" 的一个 "),l("strong",null,"上界（Upper Bound）"),n(" ，如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"x"),l("mo",null,"∈"),l("mi",null,"S"),l("mo",{separator:"true"},","),l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"u")]),l("annotation",{encoding:"application/x-tex"},"\\forall x\\in S, x \\preceq u")])])]),n(" 。类似的，我们称 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"l"),l("mo",null,"∈"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"l\\in P")])])]),n(" 是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"S")])])]),n(" 的一个 "),l("strong",null,"下界（Lower Bound）"),n(" ，如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"x"),l("mo",null,"∈"),l("mi",null,"S"),l("mo",{separator:"true"},","),l("mi",null,"l"),l("mo",null,"⪯"),l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"\\forall x\\in S, l\\preceq x")])])]),n(" 。")])],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.3"),l("p",null,[n("考虑偏序集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" 及其子集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S"),l("mo",null,"⊆"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"S \\subseteq P")])])]),n(" ，定义 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"S")])])]),n(" 的 "),l("strong",null,"最小上界（Least Upper Bound, LUB）"),n(" 为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∨"),l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"\\vee S")])])]),n(" ，使得对于 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"S")])])]),n(" 的任意一个上界 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"u")]),l("annotation",{encoding:"application/x-tex"},"u")])])]),n(" ，有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∨"),l("mi",null,"S"),l("mo",null,"⪯"),l("mi",null,"u")]),l("annotation",{encoding:"application/x-tex"},"\\vee S \\preceq u")])])]),n(" 。")]),l("p",null,[n("类似的，定义 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"S")])])]),n(" 的 "),l("strong",null,"最大下界（Greatest Lower Bound, GLB）"),n(" 为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∧"),l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"\\wedge S")])])]),n(" ，使得对于 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"S")])])]),n(" 的任意一个下界 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"l")]),l("annotation",{encoding:"application/x-tex"},"l")])])]),n(" ，有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"l"),l("mo",null,"⪯"),l("mo",null,"∧"),l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"l \\preceq \\wedge S")])])]),n(" 。")]),l("p",null,[n("通常，如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"S")])])]),n(" 只包含两个元素 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"a")]),l("annotation",{encoding:"application/x-tex"},"a")])])]),n(" 和 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"b")]),l("annotation",{encoding:"application/x-tex"},"b")])])]),n(" ，即 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"S"),l("mo",null,"="),l("mo",{stretchy:"false"},"{"),l("mi",null,"a"),l("mo",{separator:"true"},","),l("mi",null,"b"),l("mo",{stretchy:"false"},"}")]),l("annotation",{encoding:"application/x-tex"},"S = \\{a, b\\}")])])]),n(" ，则 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∨"),l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"\\vee S")])])]),n(" 可写作 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"a"),l("mo",null,"∨"),l("mi",null,"b")]),l("annotation",{encoding:"application/x-tex"},"a \\vee b")])])]),n(" ，称为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"a")]),l("annotation",{encoding:"application/x-tex"},"a")])])]),n(" 和 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"b")]),l("annotation",{encoding:"application/x-tex"},"b")])])]),n(" 的 "),l("strong",null,"联合（Join）"),n(" ； "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∧"),l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"\\wedge S")])])]),n(" 可写作 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"a"),l("mo",null,"∧"),l("mi",null,"b")]),l("annotation",{encoding:"application/x-tex"},"a \\wedge b")])])]),n(" ，称为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"a")]),l("annotation",{encoding:"application/x-tex"},"a")])])]),n(" 和 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"b")]),l("annotation",{encoding:"application/x-tex"},"b")])])]),n(" 的 "),l("strong",null,"交汇（Meet）"),n(" 。")])],-1),l("p",null,[n("并不是每一个偏序集都有最小上界或者最大下界，比如说 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"Z"),l("mo",{separator:"true"},","),l("mo",null,"≤"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(Z, \\le)")])])]),n(" ，子集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"Z"),l("mo",{lspace:"0em",rspace:"0em"},"+")])]),l("annotation",{encoding:"application/x-tex"},"Z_{+}")])])]),n(" 就没有最小上界。")],-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.1"),l("p",null,"如果一个偏序集存在最小上界，则这个偏序集最小上界是唯一的；如果一个偏序集存在最大下界，则这个偏序集的最大下界也是唯一的。")],-1),l("blockquote",null,[l("p",null,[n("证明：反证法。假设偏序集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" 存在两个不同的最小上界 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"g"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"g"),l("mn",null,"2")]),l("mo",null,"∈"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"g_1, g_2 \\in P")])])]),n(" ，根据最小上界的定义有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"g"),l("mn",null,"1")]),l("mo",null,"⪯"),l("msub",null,[l("mi",null,"g"),l("mn",null,"2")]),l("mo",null,"∧"),l("msub",null,[l("mi",null,"g"),l("mn",null,"2")]),l("mo",null,"⪯"),l("msub",null,[l("mi",null,"g"),l("mn",null,"1")])]),l("annotation",{encoding:"application/x-tex"},"g_1 \\preceq g_2 \\wedge g_2 \\preceq g_1")])])]),n(" ，有偏序关系的反对称性可知 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"g"),l("mn",null,"1")]),l("mo",null,"="),l("msub",null,[l("mi",null,"g"),l("mn",null,"2")])]),l("annotation",{encoding:"application/x-tex"},"g_1 = g_2")])])]),n(" ，这与两个不同的最小上界矛盾，因此这个偏序集的最小上界是唯一的。同理，一个偏序集的最大下界如果存在，也是唯一的。")])],-1),l("h3",{id:"_4-2-2-格",tabindex:"-1"},[n("4.2.2 格 "),l("a",{class:"header-anchor",href:"#_4-2-2-格","aria-label":'Permalink to "4.2.2 格"'},"​")],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.4"),l("p",null,[n("考虑偏序集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" ，如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"a"),l("mo",{separator:"true"},","),l("mi",null,"b"),l("mo",null,"∈"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"\\forall a, b\\in P")])])]),n(" ， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"a"),l("mo",null,"∨"),l("mi",null,"b")]),l("annotation",{encoding:"application/x-tex"},"a\\vee b")])])]),n(" 和 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"a"),l("mo",null,"∧"),l("mi",null,"b")]),l("annotation",{encoding:"application/x-tex"},"a \\wedge b")])])]),n(" 都存在，则我们称 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" 为 "),l("strong",null,"格（Lattice）"),n(" 。")])],-1),l("p",null,"简单理解，格是每对元素都存在最小上界和最大下界的偏序集。",-1),l("p",null,[n("比如说 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"Z"),l("mo",{separator:"true"},","),l("mo",null,"≤"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(Z, \\le)")])])]),n(" 是格，其中 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∨"),l("mo",null,"="),l("mi",null,"max"),l("mo",null,"⁡"),l("mo",{separator:"true"},","),l("mo",null,"∧"),l("mo",null,"="),l("mi",null,"min"),l("mo",null,"⁡")]),l("annotation",{encoding:"application/x-tex"},"\\vee = \\max, \\wedge = \\min")])])]),n(" ； "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msup",null,[l("mn",null,"2"),l("mi",null,"S")]),l("mo",{separator:"true"},","),l("mo",null,"⊆"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(2^S, \\subseteq)")])])]),n(" 也是格，其中 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∨"),l("mo",null,"="),l("mo",null,"∪"),l("mo",{separator:"true"},","),l("mo",null,"∧"),l("mo",null,"="),l("mo",null,"∩")]),l("annotation",{encoding:"application/x-tex"},"\\vee = \\cup, \\wedge = \\cap")])])]),n(" 。")],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.5"),l("p",null,[n("考虑偏序集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" ，")]),l("ul",null,[l("li",null,[l("p",null,[n("如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"a"),l("mo",{separator:"true"},","),l("mi",null,"b"),l("mo",null,"∈"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"\\forall a, b\\in P")])])]),n(" ， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"a"),l("mo",null,"∨"),l("mi",null,"b")]),l("annotation",{encoding:"application/x-tex"},"a\\vee b")])])]),n(" 存在，则我们称 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" 为 "),l("strong",null,"联合半格（Joint Semilattice）"),n(" ；")])]),l("li",null,[l("p",null,[n("如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"a"),l("mo",{separator:"true"},","),l("mi",null,"b"),l("mo",null,"∈"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"\\forall a, b\\in P")])])]),n(" ， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"a"),l("mo",null,"∧"),l("mi",null,"b")]),l("annotation",{encoding:"application/x-tex"},"a\\wedge b")])])]),n(" 存在，则我们称 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" 为 "),l("strong",null,"交汇半格（Meet Semilattice）"),n(" ；")])])]),l("p",null,[n("联合半格和交汇半格统称为 "),l("strong",null,"半格（Semilattice）"),n(" 。")])],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.6"),l("p",null,[n("考虑偏序集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" ，如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"S"),l("mo",null,"⊆"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"\\forall S \\subseteq P")])])]),n(" ， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∨"),l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"\\vee S")])])]),n(" 和 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∧"),l("mi",null,"S")]),l("annotation",{encoding:"application/x-tex"},"\\wedge S")])])]),n(" 都存在，则我们称 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" 为 "),l("strong",null,"全格（Complete Lattice）"),n(" 。")])],-1),l("p",null,[n("简单理解，全格的所有子集都有最小上界和最大下界。由于 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"Z"),l("mo",{separator:"true"},","),l("mo",null,"≤"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(Z, \\le)")])])]),n(" ，子集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"Z"),l("mo",{lspace:"0em",rspace:"0em"},"+")])]),l("annotation",{encoding:"application/x-tex"},"Z_{+}")])])]),n(" 没有最小上界，因此它不是全格；与之不同的， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msup",null,[l("mn",null,"2"),l("mi",null,"S")]),l("mo",{separator:"true"},","),l("mo",null,"⊆"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(2^S, \\subseteq)")])])]),n(" 就是一个全格。")],-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.2"),l("p",null,[n("每一个全格 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" 都有一个 "),l("strong",null,"序最大（Greatest）"),n(" 的元素 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊤"),l("mo",null,"="),l("mo",null,"∨"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"\\top = \\vee P")])])]),n(" 称作 "),l("strong",null,"顶部（Top）"),n(" ，和一个 "),l("strong",null,"序最小（Least）"),n(" 的元素 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊥"),l("mo",null,"="),l("mo",null,"∧"),l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"\\bot = \\wedge P")])])]),n(" 称作 "),l("strong",null,"底部（Bottom）"),n(" 。")])],-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.3"),l("p",null,[n("每一个"),l("strong",null,"有限格（Finite Lattice）"),n(),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(P, \\preceq)")])])]),n(" （ "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"P")])])]),n(" 是有限集）都是一个全格。")])],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.7"),l("p",null,[n("考虑偏序集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"L"),l("mn",null,"1")]),l("mo",null,"="),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"P"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mo",null,"⪯"),l("mn",null,"1")]),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"L"),l("mn",null,"2")]),l("mo",null,"="),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"P"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("msub",null,[l("mo",null,"⪯"),l("mn",null,"2")]),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"L"),l("mi",null,"n")]),l("mo",null,"="),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"P"),l("mi",null,"n")]),l("mo",{separator:"true"},","),l("msub",null,[l("mo",null,"⪯"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"L_1 = (P_1, \\preceq_1), L_2 = (P_2, \\preceq_2), ..., L_n = (P_n, \\preceq_n)")])])]),n(" ，其中 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"L"),l("mi",null,"i")]),l("mo",null,"="),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"P"),l("mi",null,"i")]),l("mo",{separator:"true"},","),l("msub",null,[l("mo",null,"⪯"),l("mi",null,"i")]),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mi",null,"i"),l("mo",null,"="),l("mn",null,"1"),l("mo",{separator:"true"},","),l("mn",null,"2"),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("mi",null,"n")]),l("annotation",{encoding:"application/x-tex"},"L_i = (P_i, \\preceq_i), i = 1, 2, ..., n")])])]),n(" 的LUB运算为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mo",null,"∨"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"\\vee_i")])])]),n(" ，GLB运算为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mo",null,"∧"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"\\wedge_i")])])]),n(" ，定义 "),l("strong",null,"积格（Product ）"),n(" 为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msup",null,[l("mi",null,"L"),l("mi",null,"n")]),l("mo",null,"="),l("mo",{stretchy:"false"},"("),l("mi",null,"P"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"L^n = (P, \\preceq)")])])]),n(" ，满足：")]),l("ul",null,[l("li",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"P"),l("mo",null,"="),l("msub",null,[l("mi",null,"P"),l("mn",null,"1")]),l("mo",null,"×"),l("msub",null,[l("mi",null,"P"),l("mn",null,"2")]),l("mo",null,"×"),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",null,"×"),l("msub",null,[l("mi",null,"P"),l("mi",null,"n")])]),l("annotation",{encoding:"application/x-tex"},"P = P_1 \\times P_2 \\times ...\\times P_n")])])])]),l("li",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"y"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"y"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"y"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")"),l("mo",null,"⇔"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",null,"⪯"),l("msub",null,[l("mi",null,"y"),l("mn",null,"1")]),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"2")]),l("mo",null,"⪯"),l("msub",null,[l("mi",null,"y"),l("mn",null,"2")]),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",null,"∧"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mi",null,"n")]),l("mo",null,"⪯"),l("msub",null,[l("mi",null,"y"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(x_1, x_2, ..., x_n) \\preceq (y_1, y_2, ..., y_n) \\Leftrightarrow (x_1 \\preceq y_1) \\wedge (x_2 \\preceq y_2) \\wedge ... \\wedge (x_n \\preceq y_n)")])])])]),l("li",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"y"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"y"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"y"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",null,"∧"),l("msub",null,[l("mi",null,"y"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mn",null,"2")]),l("mo",null,"∧"),l("msub",null,[l("mi",null,"y"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mi",null,"n")]),l("mo",null,"∧"),l("msub",null,[l("mi",null,"y"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(x_1, x_2, ..., x_n) \\wedge (y_1, y_2, ..., y_n) = (x_1 \\wedge y_1, x_2 \\wedge y_2, ..., x_n \\wedge y_n)")])])])]),l("li",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")"),l("mo",null,"∨"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"y"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"y"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"y"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",null,"∨"),l("msub",null,[l("mi",null,"y"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mn",null,"2")]),l("mo",null,"∨"),l("msub",null,[l("mi",null,"y"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"x"),l("mi",null,"n")]),l("mo",null,"∨"),l("msub",null,[l("mi",null,"y"),l("mi",null,"n")]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(x_1, x_2, ..., x_n) \\vee (y_1, y_2, ..., y_n) = (x_1 \\vee y_1, x_2 \\vee y_2, ..., x_n\\vee y_n)")])])])])])],-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.4"),l("p",null,"积格是格。")],-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.5"),l("p",null,"全格的积格还是全格。")],-1),l("h3",{id:"_4-2-3-不动点",tabindex:"-1"},[n("4.2.3 不动点 "),l("a",{class:"header-anchor",href:"#_4-2-3-不动点","aria-label":'Permalink to "4.2.3 不动点"'},"​")],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.8"),l("p",null,[n("我们称一个函数 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"f"),l("mrow",null,[l("mi",null,"L"),l("mo",null,"→"),l("mi",null,"L")])])]),l("annotation",{encoding:"application/x-tex"},"f_{L\\to L}")])])]),n(" （ "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"L")]),l("annotation",{encoding:"application/x-tex"},"L")])])]),n(" 是格）是 "),l("strong",null,"单调的（Monotonic）"),n(" ，具有 "),l("strong",null,"单调性（Monotonicity）"),n(" ，如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"y"),l("mo",null,"∈"),l("mi",null,"L"),l("mo",{separator:"true"},","),l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"y"),l("mo",null,"⇒"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"\\forall x, y\\in L, x\\preceq y \\Rightarrow f(x) \\preceq f(y)")])])]),n(" 。")])],-1),l("blockquote",null,[l("p",null,"其实，格和格所在的那个集合我们一般是不严格区分的，也就是说，L既可以表示格，也可以表示定义格的那个集合。")],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.9"),l("p",null,[n("我们称 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"x")])])]),n(" 是一个函数 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f")]),l("annotation",{encoding:"application/x-tex"},"f")])])]),n(" 的 "),l("strong",null,"不动点（Fixed Point）"),n(" ，如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"f(x) = x")])])]),n(" 。")])],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.10"),l("p",null,[n("我们定义一个 "),l("strong",null,"格的高度"),n(),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"h")])])]),n(" 为从底部到顶部的最长路径。")])],-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.6 不动点定理（Fixed-Point Theorem）"),l("p",null,[n("考虑一个全格 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"L"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(L, \\preceq)")])])]),n(" ，如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"f"),l("mrow",null,[l("mi",null,"L"),l("mo",null,"→"),l("mi",null,"L")])])]),l("annotation",{encoding:"application/x-tex"},"f_{L\\to L}")])])]),n(" 是单调的且 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"L")]),l("annotation",{encoding:"application/x-tex"},"L")])])]),n(" 是有限集，那么 "),l("strong",null,"序最小的不动点（Least Fixed Point）"),n(" 可以通过如下的迭代序列找到：")]),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msup",null,[l("mi",null,"f"),l("mrow",null,[l("mi",null,"h"),l("mo",null,"+"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(\\bot), f(f(\\bot)), ..., f^{h + 1}(\\bot) ")])])])]),l("p",null,[l("strong",null,"序最大的不动点（Greatest Fixed Point）"),n(" 可以通过如下的迭代序列找到：")]),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊤"),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊤"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msup",null,[l("mi",null,"f"),l("mrow",null,[l("mi",null,"h"),l("mo",null,"+"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊤"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(\\top), f(f(\\top)), ..., f^{h + 1}(\\top) ")])])])]),l("p",null,[n("其中， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"h")])])]),n(" 是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"L")]),l("annotation",{encoding:"application/x-tex"},"L")])])]),n(" 的高度。")])],-1),l("p",null,"下面证明这个定理。具有代表性地，这里只证一下序最小的不动点，序最大的不动点也是类似的。",-1),l("blockquote",null,[l("p",null,[n("证明：由定理4.2，有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊥"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"\\bot \\preceq f(\\bot)")])])]),n(" ，而 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f")]),l("annotation",{encoding:"application/x-tex"},"f")])])]),n(" 是单调的，则 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msup",null,[l("mi",null,"f"),l("mn",null,"2")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(\\bot) \\preceq f(f(\\bot)) = f^2(\\bot)")])])]),n(" （定义4.9）。")]),l("p",null,[n("多次应用 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f")]),l("annotation",{encoding:"application/x-tex"},"f")])])]),n(" ，结合 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"L")]),l("annotation",{encoding:"application/x-tex"},"L")])])]),n(" 是有限集，考虑 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"L")]),l("annotation",{encoding:"application/x-tex"},"L")])])]),n(" 的高度 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"h")])])]),n(" 我们可以得到一个 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"h"),l("mo",null,"+"),l("mn",null,"2")]),l("annotation",{encoding:"application/x-tex"},"h + 2")])])]),n(" 个元素的递增序列：")]),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊥"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("msup",null,[l("mi",null,"f"),l("mn",null,"2")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",null,"⪯"),l("msup",null,[l("mi",null,"f"),l("mrow",null,[l("mi",null,"h"),l("mo",null,"+"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"\\bot \\preceq f(\\bot) \\preceq f^2(\\bot) \\preceq ... \\preceq f^{h + 1}(\\bot) ")])])])]),l("p",null,[n("根据鸽笼原理，存在 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mn",null,"0"),l("mo",null,"≤"),l("mi",null,"k"),l("mo",null,"<"),l("mi",null,"j"),l("mo",null,"≤"),l("mi",null,"h"),l("mo",null,"+"),l("mn",null,"1")]),l("annotation",{encoding:"application/x-tex"},"0 \\le k < j \\le h + 1")])])]),n(" ，使得 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msup",null,[l("mi",null,"f"),l("mi",null,"k")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msup",null,[l("mi",null,"f"),l("mi",null,"j")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f^k(\\bot) = f^j(\\bot)")])])]),n(" ，其中，记 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msup",null,[l("mi",null,"f"),l("mn",null,"0")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mi",{mathvariant:"normal"},"⊥")]),l("annotation",{encoding:"application/x-tex"},"f^0(\\bot) = \\bot")])])]),n(" 。")]),l("p",null,[n("又因为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msup",null,[l("mi",null,"f"),l("mi",null,"k")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("msup",null,[l("mi",null,"f"),l("mrow",null,[l("mi",null,"k"),l("mo",null,"+"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",null,"⪯"),l("msup",null,[l("mi",null,"f"),l("mi",null,"j")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f^k(\\bot) \\preceq f^{k + 1}(\\bot) \\preceq ... \\preceq f^j(\\bot)")])])]),n(" ，由偏序关系的反对称性有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msup",null,[l("mi",null,"f"),l("mi",null,"k")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msup",null,[l("mi",null,"f"),l("mrow",null,[l("mi",null,"k"),l("mo",null,"+"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f^k(\\bot) = f^{k + 1}(\\bot)")])])]),n(" 。")]),l("p",null,[n("于是，我们找到了一个不动点 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"x"),l("mn",null,"0")]),l("mo",null,"="),l("msup",null,[l("mi",null,"f"),l("mi",null,"k")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"x_0 = f^k(\\bot)")])])]),n(" ，使得 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"0")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"x"),l("mn",null,"0")])]),l("annotation",{encoding:"application/x-tex"},"f(x_0) = x_0")])])]),n(" 。不动点的存在性证毕。")]),l("p",null,"下面证明找到的这个不动点是最小不动点。"),l("p",null,[n("反证法。假设我们有一个序更小的不动点 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",null,"≺"),l("msub",null,[l("mi",null,"x"),l("mn",null,"0")])]),l("annotation",{encoding:"application/x-tex"},"x_1 \\prec x_0")])])]),n(" （即 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",null,"⪯"),l("msub",null,[l("mi",null,"x"),l("mn",null,"0")]),l("mo",null,"∧"),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",{mathvariant:"normal"},"≠"),l("msub",null,[l("mi",null,"x"),l("mn",null,"0")])]),l("annotation",{encoding:"application/x-tex"},"x_1 \\preceq x_0 \\wedge x_1 \\ne x_0")])])]),n(" ），使得 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")])]),l("annotation",{encoding:"application/x-tex"},"f(x_1) = x_1")])])]),n(" 。")]),l("p",null,[n("由定理4.2，我们有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊥"),l("mo",null,"⪯"),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")])]),l("annotation",{encoding:"application/x-tex"},"\\bot \\preceq x_1")])])]),n(" ，而 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f")]),l("annotation",{encoding:"application/x-tex"},"f")])])]),n(" 是单调的，则 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")])]),l("annotation",{encoding:"application/x-tex"},"f(\\bot) \\preceq f(x_1) = x_1")])])]),n(" 。")]),l("p",null,[n("多次应用 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f")]),l("annotation",{encoding:"application/x-tex"},"f")])])]),n(" ，不难有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"x"),l("mn",null,"0")]),l("mo",null,"="),l("msup",null,[l("mi",null,"f"),l("mi",null,"k")]),l("mo",{stretchy:"false"},"("),l("mi",{mathvariant:"normal"},"⊥"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("msub",null,[l("mi",null,"x"),l("mn",null,"1")])]),l("annotation",{encoding:"application/x-tex"},"x_0 = f^k(\\bot) \\preceq x_1")])])]),n(" ，这与 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"x"),l("mn",null,"1")]),l("mo",null,"≺"),l("msub",null,[l("mi",null,"x"),l("mn",null,"0")])]),l("annotation",{encoding:"application/x-tex"},"x_1 \\prec x_0")])])]),n(" 是矛盾的。")]),l("p",null,"因此不存在序更小的不动点，不动点的序最小性证毕。"),l("p",null,"综上，不动点定理的第一部分是正确的，第二部分类似可证。")],-1),l("p",null,[n("到此为止，我们得到了一个格上的单调函数一定能够对端点元素（ "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊤")]),l("annotation",{encoding:"application/x-tex"},"\\top")])])]),n(" 或 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊥")]),l("annotation",{encoding:"application/x-tex"},"\\bot")])])]),n(" ）迭代出不动点的性质。")],-1),l("p",null,"不过我们还不能因此说明我们的迭代算法也有这样的性质，除非我们之后可以将迭代算法和不动点定理关联起来。",-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.7"),l("p",null,[n("交汇 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∧")]),l("annotation",{encoding:"application/x-tex"},"\\wedge")])])]),n(" / 联合 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∨")]),l("annotation",{encoding:"application/x-tex"},"\\vee")])])]),n(" 操作是单调的。")])],-1),l("blockquote",null,[l("p",null,"证明："),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"y"),l("mo",{separator:"true"},","),l("mi",null,"z"),l("mo",null,"∈"),l("mi",null,"L")]),l("annotation",{encoding:"application/x-tex"},"\\forall x, y, z\\in L")])])]),n(" ，若 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"y")]),l("annotation",{encoding:"application/x-tex"},"x \\preceq y")])])]),n(" ，由于 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x"),l("mo",null,"∧"),l("mi",null,"z"),l("mo",null,"⪯"),l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"y")]),l("annotation",{encoding:"application/x-tex"},"x \\wedge z \\preceq x \\preceq y")])])]),n(" ， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x"),l("mo",null,"∧"),l("mi",null,"z"),l("mo",null,"⪯"),l("mi",null,"z")]),l("annotation",{encoding:"application/x-tex"},"x \\wedge z \\preceq z")])])]),n(" ，于是有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x"),l("mo",null,"∧"),l("mi",null,"z"),l("mo",null,"⪯"),l("mi",null,"y"),l("mo",null,"∧"),l("mi",null,"z")]),l("annotation",{encoding:"application/x-tex"},"x \\wedge z \\preceq y \\wedge z")])])]),n(" ，从而 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∧")]),l("annotation",{encoding:"application/x-tex"},"\\wedge")])])]),n(" 是单调的。")]),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"y"),l("mo",{separator:"true"},","),l("mi",null,"z"),l("mo",null,"∈"),l("mi",null,"L")]),l("annotation",{encoding:"application/x-tex"},"\\forall x, y, z \\in L")])])]),n(" ，若"),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"y")]),l("annotation",{encoding:"application/x-tex"},"x \\preceq y")])])]),n("，由于 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"y"),l("mo",null,"⪯"),l("mi",null,"y"),l("mo",null,"∨"),l("mi",null,"z")]),l("annotation",{encoding:"application/x-tex"},"x \\preceq y \\preceq y \\vee z")])])]),n(" ， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"z"),l("mo",null,"⪯"),l("mi",null,"y"),l("mo",null,"∨"),l("mi",null,"z")]),l("annotation",{encoding:"application/x-tex"},"z \\preceq y \\vee z")])])]),n(" ，于是有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x"),l("mo",null,"∨"),l("mi",null,"z"),l("mo",null,"⪯"),l("mi",null,"y"),l("mo",null,"∨"),l("mi",null,"z")]),l("annotation",{encoding:"application/x-tex"},"x \\vee z \\preceq y \\vee z")])])]),n(" ，从而 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",null,"∨")]),l("annotation",{encoding:"application/x-tex"},"\\vee")])])]),n(" 也是单调的。")])],-1),l("h3",{id:"_4-2-4-分配律",tabindex:"-1"},[n("4.2.4 分配律 "),l("a",{class:"header-anchor",href:"#_4-2-4-分配律","aria-label":'Permalink to "4.2.4 分配律"'},"​")],-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.8"),l("p",null,[n("定义在格 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"L"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(L, \\preceq)")])])]),n(" 上的单调函数 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x)")])])]),n(" 满足： "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"∨"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∨"),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x) \\vee f(y) \\preceq f(x \\vee y)")])])]),n(" ， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∧"),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x \\wedge y) \\preceq f(x) \\wedge f(y)")])])]),n(" 。")])],-1),l("blockquote",null,[l("p",null,"证明："),l("p",null,[n("由 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x"),l("mo",null,"⪯"),l("mi",null,"x"),l("mo",null,"∨"),l("mi",null,"y")]),l("annotation",{encoding:"application/x-tex"},"x \\preceq x \\vee y")])])]),n(" 且 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x)")])])]),n(" 单调，有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∨"),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x) \\preceq f(x \\vee y)")])])]),n(" ，同理 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∨"),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(y) \\preceq f(x \\vee y)")])])]),n(" ，于是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"∨"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∨"),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x) \\vee f(y) \\preceq f(x \\vee y)")])])]),n(" 。")]),l("p",null,[n("由 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x"),l("mo",null,"∧"),l("mi",null,"y"),l("mo",null,"⪯"),l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"x \\wedge y \\preceq x")])])]),n(" 且 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x)")])])]),n(" 单调，有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∧"),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x \\wedge y) \\preceq f(x)")])])]),n(" ，同理 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∧"),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x \\wedge y) \\preceq f(y)")])])]),n(" ，于是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∧"),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x \\wedge y) \\preceq f(x) \\wedge f(y)")])])]),n(" 。")])],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.11"),l("p",null,[n("我们称定义在格 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"L"),l("mo",{separator:"true"},","),l("mo",null,"⪯"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(L, \\preceq)")])])]),n("上的函数 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x)")])])]),n(" 满足"),l("strong",null,"分配律（Distributive）"),n("，如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∨"),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"∨"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x \\vee y) = f(x) \\vee f(y)")])])]),n(" ， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∧"),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"f(x \\wedge y) = f(x)\\wedge f(y)")])])]),n(" 。")])],-1),l("h2",{id:"_4-3-基于格的数据流分析框架",tabindex:"-1"},[n("4.3 基于格的数据流分析框架 "),l("a",{class:"header-anchor",href:"#_4-3-基于格的数据流分析框架","aria-label":'Permalink to "4.3 基于格的数据流分析框架"'},"​")],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.12"),l("p",null,[n("一个"),l("strong",null,"数据流分析框架(Data Flow Analysis Framework)"),n(),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"D"),l("mo",{separator:"true"},","),l("mi",null,"L"),l("mo",{separator:"true"},","),l("mi",null,"F"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(D, L, F)")])])]),n(" 由以下3个部分组成：")]),l("ul",null,[l("li",null,[l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"D")]),l("annotation",{encoding:"application/x-tex"},"D")])])]),n(" （Direction）：数据流的方向——正向或者逆向；")])]),l("li",null,[l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"L")]),l("annotation",{encoding:"application/x-tex"},"L")])])]),n(" （Lattice）：一个包含值集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"V")]),l("annotation",{encoding:"application/x-tex"},"V")])])]),n(" 的域（即 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"V")]),l("annotation",{encoding:"application/x-tex"},"V")])])]),n(" 的幂集）的格以及一个交汇操作符（Meet Operator）或者联合操作符（Joint Operator）；")])]),l("li",null,[l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F")]),l("annotation",{encoding:"application/x-tex"},"F")])])]),n(" （Function Family）：一个从 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"V")]),l("annotation",{encoding:"application/x-tex"},"V")])])]),n(" 到 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"V")]),l("annotation",{encoding:"application/x-tex"},"V")])])]),n(" 的转移函数族（Transfer Function Family）。")])])])],-1),l("p",{style:{"text-align":"center"}},[l("img",{src:g,alt:"lattice",style:{zoom:"30%"}})],-1),l("p",null,[n("对于每一个结点来说，数据流分析可以被视为在某个格的值上面迭代地应用转移函数和交汇/联合操作的过程。因为定义域是值集 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"V")]),l("annotation",{encoding:"application/x-tex"},"V")])])]),n(" 的幂集，而"),l("strong",null,"幂集本身就是一个天然的全格"),n("，记为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"L"),l("mo",{separator:"true"},","),l("mo",null,"⊆"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(L, \\subseteq)")])])]),n(" 。")],-1),l("p",null,[n("那么，对于整个CFG来说，数据流分析可以被视为在所有结点的格的积格上面迭代地应用转移函数和交汇/联合操作的过程，假设有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"k")]),l("annotation",{encoding:"application/x-tex"},"k")])])]),n(" 个结点，则迭代算法的每一次迭代可视为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"F"),l("mrow",null,[l("msup",null,[l("mi",null,"L"),l("mi",null,"k")]),l("mo",null,"→"),l("msup",null,[l("mi",null,"L"),l("mi",null,"k")])])])]),l("annotation",{encoding:"application/x-tex"},"F_{L^k \\to L^k}")])])]),n(" （结合4.1来看）。其中 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msup",null,[l("mi",null,"L"),l("mi",null,"k")])]),l("annotation",{encoding:"application/x-tex"},"L^k")])])]),n(" 是一个全格（见定理4.5）。所以，根据定理4.6，我们只需要证明 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F")]),l("annotation",{encoding:"application/x-tex"},"F")])])]),n(" 是单调的，就可以回答4.1最后三个问题：迭代算法一定会达到不动点，并且达到的是序最小的不动点（对于正向、可能性分析，逆向、必然性分析也是类似的），且可以在 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"O"),l("mo",{stretchy:"false"},"("),l("mi",null,"k"),l("mi",null,"h"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"O(kh)")])])]),n(" 内达到，其中 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"h")])])]),n(" 是定义域格的高度。")],-1),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F")]),l("annotation",{encoding:"application/x-tex"},"F")])])]),n(" 有两个部分组成，一个部分是状态转移方程 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"f"),l("mrow",null,[l("mi",null,"L"),l("mo",null,"→"),l("mi",null,"L")])])]),l("annotation",{encoding:"application/x-tex"},"f_{L\\to L}")])])]),n(" ，从定理3.4后面的证明中我们可以发现，定义可达性分析的状态转移方程是单调的，类似的，变量活性分析和可用表达式分析的状态转移方程都是单调的。在我们进行其他分析的时候，我们设计状态转移方程时，需要保证其单调性。也就是说，一个设计糟糕的状态转移方程可能是不单调的，从而导致我们的迭代算法无法终止，或者无法求出符合预期的结果。")],-1),l("blockquote",null,[l("p",null,[n("其实 "),l("code",null,"gen/kill"),n(" 形式的状态转移方程一般都是单调的，因为它的输出状态不会收缩。")])],-1),l("p",null,[n("另一个部分是由控制流产生的交汇/联合操作函数 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"f"),l("mrow",null,[l("mi",null,"L"),l("mo",null,"×"),l("mi",null,"L"),l("mo",null,"→"),l("mi",null,"L")])])]),l("annotation",{encoding:"application/x-tex"},"f_{L\\times L \\to L}")])])]),n(" ，从定理4.7我们不难看出，它也是单调的，从而 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F")]),l("annotation",{encoding:"application/x-tex"},"F")])])]),n(" 是单调的。")],-1),l("p",null,[n("因此满足不动点定理的条件，我们的迭代算法一定会达到一个最好（可能性分析则是序最小，必然性分析则是序最大）的不动点。并且，从不动点定理的证明中我们可以发现，迭代次数最多为格的高度，我们不妨记定义域格的高度为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"h")])])]),n(" ，则每次迭代的最坏情况是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"k")]),l("annotation",{encoding:"application/x-tex"},"k")])])]),n(" 个格中只有一个格变化了一次，并且直到 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊤")]),l("annotation",{encoding:"application/x-tex"},"\\top")])])]),n(" 才找到不动点，在这种最坏情况下，迭代的次数为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"k"),l("mo",null,"⋅"),l("mi",null,"h"),l("mo",null,"+"),l("mn",null,"1")]),l("annotation",{encoding:"application/x-tex"},"k \\cdot h + 1")])])]),n(" ，最后一次用于确认所有的数据流值都不会发生变化了。于是，我们便可以分析出算法的复杂度了。")],-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.9"),l("p",null,[n("假设集合操作是常数项时间，则数据流分析的迭代算法的时间复杂度为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"O"),l("mo",{stretchy:"false"},"("),l("mi",null,"k"),l("mi",null,"h"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"O(kh)")])])]),n(" ，其中 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"k")]),l("annotation",{encoding:"application/x-tex"},"k")])])]),n(" 为 CFG 的结点个数， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"h")])])]),n(" 为定义域格的高度。")])],-1),l("blockquote",null,[l("p",null,"位向量实现的集合操作就是常数项时间，哈希表接近常数项时间，红黑树为对数时间。")],-1),l("h2",{id:"_4-4-格视角下的可能性分析与必然性分析",tabindex:"-1"},[n("4.4 格视角下的可能性分析与必然性分析 "),l("a",{class:"header-anchor",href:"#_4-4-格视角下的可能性分析与必然性分析","aria-label":'Permalink to "4.4 格视角下的可能性分析与必然性分析"'},"​")],-1),l("h3",{id:"_4-4-1-可能性分析",tabindex:"-1"},[n("4.4.1 可能性分析 "),l("a",{class:"header-anchor",href:"#_4-4-1-可能性分析","aria-label":'Permalink to "4.4.1 可能性分析"'},"​")],-1),l("p",null,[n("我们以典型的可能性分析——Reaching Definitions为例。从某个程序点的视角来看，我们初始化的时候是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊥")]),l("annotation",{encoding:"application/x-tex"},"\\bot")])])]),n(" ，即没有任何定义可以到达此处，然后我们一次次迭代，每次迭代向前走最安全的一步，发现越来越多的定义能够到达此处，直到算法在一个最小的不动点处停了下来。")],-1),l("p",null,[n("首先，初始化的状态是不安全的，因为没有任何定义可达显然是一个最不正确的结论。其次， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊤")]),l("annotation",{encoding:"application/x-tex"},"\\top")])])]),n(" 状态是最安全的，所有的定义都“可能”到达此处，但这是一个没有用的平凡的结论，因为它并不能帮到我们什么，且我们啥也不干都知道这个结论。")],-1),l("p",null,[n("我们假设这个程序点处真实可达的定义集合为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" ，那么 "),l("strong",null,"包含"),n(),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" 且越接近 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" 的答案才是最有价值的。因此，在包含 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" 的前提下最小的不动点是最好的。")],-1),l("p",null,[n("至于最小的不动点为什么会包含 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" ，这是由我们设计的转移方程和控制流约束函数所决定的，需要具体的问题具体分析。言下之意，如果我们设计的状态转移方程和控制流约束函数不合理，最小不动点可能会是不安全的，也就是算法可能会出错。")],-1),l("p",{style:{"text-align":"center"}},[l("img",{src:f,alt:"may-analysis",style:{zoom:"40%"}})],-1),l("p",null,[n("这里还需要强调一下的是，因为定义域是值集的幂集，所以格上的每个元素都是值集的一个子集。对于定义可达性问题来说，值集是整个程序中所有的定义组成的集合 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"D"),l("mo",null,"="),l("mo",{stretchy:"false"},"{"),l("msub",null,[l("mi",null,"d"),l("mn",null,"1")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"d"),l("mn",null,"2")]),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"d"),l("mi",null,"n")]),l("mo",{stretchy:"false"},"}")]),l("annotation",{encoding:"application/x-tex"},"D = \\{d_1, d_2, ..., d_n\\}")])])]),n(" ，而对应数据流分析的定义域其实是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"V"),l("mo",null,"="),l("msup",null,[l("mn",null,"2"),l("mi",null,"D")])]),l("annotation",{encoding:"application/x-tex"},"V = 2^D")])])]),n(" 。所以Truth和Least Fixed Point都是一个集合。在这个格上的序大小关系其实就是集合的包含关系。")],-1),l("p",null,"从上面可以看出，数据流分析的过程是从不安全到安全（From Unsafe to Safe），然后从准到不准（From Precise to Less Precise）的过程。可能性分析如此，必然性分析也是如此。",-1),l("h3",{id:"_4-4-2-必然性分析",tabindex:"-1"},[n("4.4.2 必然性分析 "),l("a",{class:"header-anchor",href:"#_4-4-2-必然性分析","aria-label":'Permalink to "4.4.2 必然性分析"'},"​")],-1),l("p",null,[n("我们以典型的必然性分析——Avaliable Expressions为例。从某个程序点的视角来看，我们初始化的时候是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊤")]),l("annotation",{encoding:"application/x-tex"},"\\top")])])]),n(" ，即所有的表达式都是可用的，然后我们一次次迭代，每次迭代向前走最安全的一步，发现越来越少的表达式是可用的，直到算法在一个最大的不动点处停了下来。")],-1),l("p",null,[n("首先，初始化的状态是不安全的，因为所有的表达式都可用显然是一个最不正确的结论（如果我们用这个结论来作表达式优化，是最会导致程序错误的）。其次， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",{mathvariant:"normal"},"⊥")]),l("annotation",{encoding:"application/x-tex"},"\\bot")])])]),n(" 状态是最安全的，所有的表达式都不可用（也就是我们并不能优化，啥也不用干就行），但这是一个没有用的结论，因为它并不能帮助我们优化表达式，减少计算次数。")],-1),l("p",null,[n("我们假设这个程序点处真实可用的表达式集合为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" ，那么"),l("strong",null,"包含于"),n(),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" （注意，可能性分析里面是包含，必然性分析里面是包含于）且越接近 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" 的答案才是最有价值的。因为包含于 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" 说明用这个结果做优化一定不会错，越接近 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" 那么我能够优化掉的表达式才越多，优化效果越好。因此，在包含于 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" 的前提下最大的不动点是最好的。")],-1),l("p",{style:{"text-align":"center"}},[l("img",{src:y,alt:"must-analysis",style:{zoom:"40%"}})],-1),l("p",null,[n("至于最大的不动点为什么会包含于 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"T"),l("mi",null,"r"),l("mi",null,"u"),l("mi",null,"t"),l("mi",null,"h")]),l("annotation",{encoding:"application/x-tex"},"Truth")])])]),n(" ，这是由我们设计的状态转移方程和控制流约束函数所决定的，需要具体问题具体分析。言下之意，如果我们设计的状态转移方程和控制流约束函数不合理，最大不动点可能会是不安全的，也就是算法可能会出错。")],-1),l("p",null,"到这里我们会再一次从新的视角发现，可能性分析和必然性分析的区别就是对于安全近似的判断标准不同，可能性分析的适用的是过近似的原则，言下之意多多益善，油多不坏菜；必然性分析适用的是欠近似原则，言下之意宁可放过，绝不错杀，放过事小，错杀事大。",-1),l("h2",{id:"_4-5-算法精度分析",tabindex:"-1"},[n("4.5 算法精度分析 "),l("a",{class:"header-anchor",href:"#_4-5-算法精度分析","aria-label":'Permalink to "4.5 算法精度分析"'},"​")],-1),l("p",null,"我们通过对比的方式来简要分析一下迭代算法的精度。首先，介绍一种以暴力枚举为基本思想的算法，虽然暴力算法比较慢，但是可以将其作为一个理论工具来衡量一些可行算法（比如说迭代算法）的精度。",-1),l("h3",{id:"_4-5-1-全路交汇的解决方案",tabindex:"-1"},[n("4.5.1 全路交汇的解决方案 "),l("a",{class:"header-anchor",href:"#_4-5-1-全路交汇的解决方案","aria-label":'Permalink to "4.5.1 全路交汇的解决方案"'},"​")],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.13"),l("p",null,[n("考虑从程序入口到沿着某条控制流某个程序点"),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"s"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"s_i")])])]),n("处所经过的所有语句，记为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"P"),l("mo",null,"="),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",null,"→"),l("msub",null,[l("mi",null,"s"),l("mn",null,"1")]),l("mo",null,"→"),l("msub",null,[l("mi",null,"s"),l("mn",null,"2")]),l("mo",null,"→"),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",null,"→"),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"P = ENTRY \\to s_1 \\to s_2 \\to ... \\to s_i")])])]),n(" ，称序列 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"s"),l("mn",null,"1")]),l("msub",null,[l("mi",null,"s"),l("mn",null,"2")]),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"s_1s_2...s_i")])])]),n(" 是到程序点 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"s"),l("mrow",null,[l("mi",null,"i"),l("mo",null,"+"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(s_i, s_{i + 1})")])])]),n(" （见定义3.4）的一条 "),l("strong",null,"路径（Path）"),n("。")])],-1),l("div",{class:"theorem"},[l("p",{class:"title"},"定理4.10"),l("p",null,[n("若路径 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"s"),l("mn",null,"1")]),l("msub",null,[l("mi",null,"s"),l("mn",null,"2")]),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"s_1s_2...s_i")])])]),n(" 上每个语句的状态转移方程（见定义3.7）为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")])])]),l("annotation",{encoding:"application/x-tex"},"f_{s_i}")])])]),n(" ，则路径P的状态转移方程为")]),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"F"),l("mi",null,"P")]),l("mo",null,"="),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")])]),l("mo",null,"∘"),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mrow",null,[l("mi",null,"i"),l("mo",null,"−"),l("mn",null,"1")])])]),l("mo",null,"∘"),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mi",{mathvariant:"normal"},"."),l("mo",null,"∘"),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mn",null,"2")])]),l("mo",null,"∘"),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mn",null,"1")])])]),l("annotation",{encoding:"application/x-tex"},"F_P = f_{s_i} \\circ f_{s_{i - 1}} \\circ ... \\circ f_{s_2} \\circ f_{s_1} ")])])])])],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.14"),l("p",null,[n("数据流分析的 "),l("strong",null,"全路交汇（Meet-Over-All-Paths）"),n(" 的解决方案通过如下步骤计算某个程序点 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")]),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"s"),l("mrow",null,[l("mi",null,"i"),l("mo",null,"+"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(s_i, s_{i+1})")])])]),n(" 处的数据流值，记为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"M"),l("mi",null,"O"),l("mi",null,"P"),l("mo",{stretchy:"false"},"["),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")]),l("mo",{stretchy:"false"},"]")]),l("annotation",{encoding:"application/x-tex"},"MOP[s_i]")])])]),n(" :")]),l("ul",null,[l("li",null,[l("p",null,[n("考虑从程序入口到 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"s"),l("mi",null,"i")])]),l("annotation",{encoding:"application/x-tex"},"s_i")])])]),n(" 处的路径 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"P")]),l("annotation",{encoding:"application/x-tex"},"P")])])]),n(" 的状态转移方程 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("msub",null,[l("mi",null,"F"),l("mi",null,"P")])]),l("annotation",{encoding:"application/x-tex"},"F_P")])])]),n("，所有路径的集合记为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"P"),l("mi",null,"a"),l("mi",null,"t"),l("mi",null,"h"),l("mi",null,"s"),l("mo",{stretchy:"false"},"("),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")]),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"Paths(ENTRY, s_i)")])])]),n(" ；")])]),l("li",null,[l("p",null,"使用联合或者交汇操作来求这些值的最小上界或者最大下界。")])]),l("p",null,"形式化表示为："),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"M"),l("mi",null,"O"),l("mi",null,"P"),l("mo",{stretchy:"false"},"["),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")]),l("mo",{stretchy:"false"},"]"),l("mo",null,"="),l("munder",null,[l("mo",null,"⋁"),l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"P"),l("mo",null,"∈"),l("mi",null,"P"),l("mi",null,"a"),l("mi",null,"t"),l("mi",null,"h"),l("mi",null,"s"),l("mo",{stretchy:"false"},"("),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")]),l("mo",{stretchy:"false"},")")])]),l("msub",null,[l("mi",null,"F"),l("mi",null,"P")]),l("mo",{stretchy:"false"},"("),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",{stretchy:"false"},"]"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"MOP[s_i] = \\bigvee_{\\forall P \\in Paths(ENTRY, s_i)} F_P(OUT[ENTRY]) ")])])])]),l("p",null,"或"),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"M"),l("mi",null,"O"),l("mi",null,"P"),l("mo",{stretchy:"false"},"["),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")]),l("mo",{stretchy:"false"},"]"),l("mo",null,"="),l("munder",null,[l("mo",null,"⋀"),l("mrow",null,[l("mi",{mathvariant:"normal"},"∀"),l("mi",null,"P"),l("mo",null,"∈"),l("mi",null,"P"),l("mi",null,"a"),l("mi",null,"t"),l("mi",null,"h"),l("mi",null,"s"),l("mo",{stretchy:"false"},"("),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"s"),l("mi",null,"i")]),l("mo",{stretchy:"false"},")")])]),l("msub",null,[l("mi",null,"F"),l("mi",null,"P")]),l("mo",{stretchy:"false"},"("),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",{stretchy:"false"},"]"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"MOP[s_i] = \\bigwedge_{\\forall P \\in Paths(ENTRY, s_i)} F_P(OUT[ENTRY]) ")])])])])],-1),l("p",null,"由于CFG中并不是每一条控制流都会被执行的，所以MOP算法并不是完全精确的。并且，由于MOP算法需要考虑所有的路径，因此它也是不现实的。故而，我们并不会实际使用MOP算法，而更多的把MOP当作是用于比较分析其他算法精度的标尺。",-1),l("h3",{id:"_4-5-2-mop与迭代算法的比较",tabindex:"-1"},[n("4.5.2 MOP与迭代算法的比较 "),l("a",{class:"header-anchor",href:"#_4-5-2-mop与迭代算法的比较","aria-label":'Permalink to "4.5.2 MOP与迭代算法的比较"'},"​")],-1),l("p",null,"我们通过一个例子来比较一下这两个算法。",-1),l("p",{style:{"text-align":"center"}},[l("img",{src:d,alt:"mop-eg",style:{zoom:"40%"}})],-1),l("p",null,"如果采用迭代算法，我们最终得到的结果为：",-1),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"I"),l("mi",null,"N"),l("mo",{stretchy:"false"},"["),l("msub",null,[l("mi",null,"s"),l("mn",null,"4")]),l("mo",{stretchy:"false"},"]"),l("mo",null,"="),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mn",null,"3")])]),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},"("),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",{stretchy:"false"},"]"),l("mo",{stretchy:"false"},")"),l("mo",null,"∨"),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mn",null,"2")])]),l("mo",{stretchy:"false"},"("),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",{stretchy:"false"},"]"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"IN[s_4] = f_{s_3}(f_{s_1}(OUT[ENTRY]) \\vee f_{s_2}(OUT[ENTRY])) ")])])])],-1),l("p",null,"如果采用MOP算法，我们最终得到的结果为：",-1),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"I"),l("mi",null,"N"),l("mo",{stretchy:"false"},"["),l("msub",null,[l("mi",null,"s"),l("mn",null,"4")]),l("mo",{stretchy:"false"},"]"),l("mo",null,"="),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mn",null,"3")])]),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mn",null,"1")])]),l("mo",{stretchy:"false"},"("),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",{stretchy:"false"},"]"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},")"),l("mo",null,"∨"),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mn",null,"3")])]),l("mo",{stretchy:"false"},"("),l("msub",null,[l("mi",null,"f"),l("msub",null,[l("mi",null,"s"),l("mn",null,"2")])]),l("mo",{stretchy:"false"},"("),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("mi",null,"E"),l("mi",null,"N"),l("mi",null,"T"),l("mi",null,"R"),l("mi",null,"Y"),l("mo",{stretchy:"false"},"]"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"IN[s_4] = f_{s_3}(f_{s_1}(OUT[ENTRY])) \\vee f_{s_3}(f_{s_2}(OUT[ENTRY])) ")])])])],-1),l("p",null,[n("从这个例子中，我们可以发现，迭代算法求的是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∨"),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"F(x\\vee y)")])])]),n(" ，而MOP算法求的是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"∨"),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"F(x) \\vee F(y)")])])]),n(" （如果是交汇操作也是类似的）。")],-1),l("p",null,[n("根据定理4.8，有 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")"),l("mo",null,"∨"),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",null,"∨"),l("mi",null,"y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"F(x) \\vee F(y) \\preceq F(x\\vee y)")])])]),n(" ，结合4.4.1（以May Analysis为例），迭代算法的精度不如MOP。")],-1),l("p",null,[n("不过，当 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"F(x)")])])]),n(" 满足分配律的时候，迭代算法的精度和MOP是一样的。并且，目前我们学过的3中数据流分析的状态转移方程都是满足分配律的。也就是说，在这些情景下，迭代算法可以达到MOP算法的精度，但是其实现要比MOP简单得多。")],-1),l("p",null,[n("其实，对于许多可以通过 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"g"),l("mi",null,"e"),l("mi",null,"n"),l("mi",{mathvariant:"normal"},"/"),l("mi",null,"k"),l("mi",null,"i"),l("mi",null,"l"),l("mi",null,"l")]),l("annotation",{encoding:"application/x-tex"},"gen/kill")])])]),n(" 的视角解决的问题，它们的状态转移都是满足分配律的。不过也有一些问题的状态转移函数并不满足分配律，比如说4.6。")],-1),l("h2",{id:"_4-6-常量传播",tabindex:"-1"},[n("4.6 常量传播 "),l("a",{class:"header-anchor",href:"#_4-6-常量传播","aria-label":'Permalink to "4.6 常量传播"'},"​")],-1),l("h3",{id:"_4-6-1-问题描述",tabindex:"-1"},[n("4.6.1 问题描述 "),l("a",{class:"header-anchor",href:"#_4-6-1-问题描述","aria-label":'Permalink to "4.6.1 问题描述"'},"​")],-1),l("div",{class:"definition"},[l("p",{class:"title"},"定义4.15"),l("p",null,[l("strong",null,"常量传播（Constant Propagation）"),n(" 问题：考虑程序点 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"p")]),l("annotation",{encoding:"application/x-tex"},"p")])])]),n(" 处的变量 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"x")])])]),n(" ，求解 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"x")])])]),n(" 在 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"p")]),l("annotation",{encoding:"application/x-tex"},"p")])])]),n(" 点处是否保证（Guarantee）是一个常量。")])],-1),l("p",null,"如果我们知道了某些程序点处的某些变量一定是一个常量的话，我们就可以直接优化，将这个变量视为常量，从而减少内存的消耗（可以在编译的时候就完成一部分计算，并且有些常量并不需要分配储存它的内存空间）。",-1),l("h3",{id:"_4-6-2-问题分析",tabindex:"-1"},[n("4.6.2 问题分析 "),l("a",{class:"header-anchor",href:"#_4-6-2-问题分析","aria-label":'Permalink to "4.6.2 问题分析"'},"​")],-1),l("h4",{id:"数据抽象",tabindex:"-1"},[n("数据抽象 "),l("a",{class:"header-anchor",href:"#数据抽象","aria-label":'Permalink to "数据抽象"'},"​")],-1),l("p",null,[n("我们可以用一个有序对 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"v"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(x, v)")])])]),n(" 的集合表示每个程序点处的抽象程序状态，其中 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"x")])])]),n(" 是变量名， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"v")]),l("annotation",{encoding:"application/x-tex"},"v")])])]),n(" 是变量的常数值， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"v")]),l("annotation",{encoding:"application/x-tex"},"v")])])]),n(" 的取值可能有某个常数， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"U"),l("mi",null,"N"),l("mi",null,"D"),l("mi",null,"E"),l("mi",null,"F")]),l("annotation",{encoding:"application/x-tex"},"UNDEF")])])]),n(" （Undefined，未定义的）或 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C")]),l("annotation",{encoding:"application/x-tex"},"NAC")])])]),n(" （Not A Constant，不是常量）。")],-1),l("h4",{id:"控制流约束",tabindex:"-1"},[n("控制流约束 "),l("a",{class:"header-anchor",href:"#控制流约束","aria-label":'Permalink to "控制流约束"'},"​")],-1),l("p",null,"基于此，我们可以定义值之间的交汇操作：",-1),l("ul",null,[l("li",null,[l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"v"),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(x, v) \\wedge (x, NAC) = (x, NAC)")])])]),n(" ，变量和任意常量交汇还是变量，因为我们需要"),l("strong",null,"保证"),n("是一个常量，采用的是必然性分析的策略；")])]),l("li",null,[l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"U"),l("mi",null,"N"),l("mi",null,"D"),l("mi",null,"E"),l("mi",null,"F"),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"v"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"v"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(x, UNDEF) \\wedge (x, v) = (x, v)")])])]),n(" ，未初始化的变量并不是我们这个问题的关注点（言下之意出了Undefined的错误，锅由Reaching Definitions背），我们当它不存在即可。")])]),l("li",null,[l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"v"),l("mn",null,"1")]),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"v"),l("mn",null,"2")]),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mrow",null,[l("mo",{fence:"true"},"{"),l("mtable",{rowspacing:"0.36em",columnalign:"left left",columnspacing:"1em"},[l("mtr",null,[l("mtd",null,[l("mstyle",{scriptlevel:"0",displaystyle:"false"},[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("msub",null,[l("mi",null,"v"),l("mn",null,"1")]),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mspace",{width:"1em"}),l("mi",null,"i"),l("mi",null,"f"),l("mtext",null," "),l("msub",null,[l("mi",null,"v"),l("mn",null,"1")]),l("mo",null,"="),l("msub",null,[l("mi",null,"v"),l("mn",null,"2")])])])])]),l("mtr",null,[l("mtd",null,[l("mstyle",{scriptlevel:"0",displaystyle:"false"},[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mspace",{width:"1em"}),l("mi",null,"o"),l("mi",null,"t"),l("mi",null,"h"),l("mi",null,"e"),l("mi",null,"r"),l("mi",null,"w"),l("mi",null,"i"),l("mi",null,"s"),l("mi",null,"e")])])])])])])]),l("annotation",{encoding:"application/x-tex"},"(x, v_1) \\wedge (x, v_2) = \\begin{cases}(x, v_1),\\quad if\\ v_1 = v_2\\\\(x, NAC),\\quad otherwise\\end{cases}")])])]),n(" ，两个不同的值汇聚到某一点，说明这个变量不是常量，否则，在这个程序点处，我们可以将其视为常量。")])])],-1),l("h4",{id:"状态转移方程",tabindex:"-1"},[n("状态转移方程 "),l("a",{class:"header-anchor",href:"#状态转移方程","aria-label":'Permalink to "状态转移方程"'},"​")],-1),l("p",null,[n("考虑语句 "),l("code",null,"s: x = ..."),n(" ，定义其状态转移方程为：")],-1),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",null,":"),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("mi",null,"s"),l("mo",{stretchy:"false"},"]"),l("mo",null,"="),l("mi",null,"g"),l("mi",null,"e"),l("msub",null,[l("mi",null,"n"),l("mi",null,"s")]),l("mo",null,"∪"),l("mo",{stretchy:"false"},"("),l("mi",null,"I"),l("mi",null,"N"),l("mo",{stretchy:"false"},"["),l("mi",null,"s"),l("mo",{stretchy:"false"},"]"),l("mo",null,"−"),l("mo",{stretchy:"false"},"{"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"_"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},"}"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"F: OUT[s] = gen_s \\cup (IN[s] - \\{(x, \\_)\\}) ")])])])],-1),l("p",null,[n("其中， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",{mathvariant:"normal"},"_"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"(x, \\_)")])])]),n(" 是一个通配符，表示所有的以 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"x")])])]),n(" 作为第一个元素的有序数对。 为了表示方便，我们下面用 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"v"),l("mi",null,"a"),l("mi",null,"l"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"val(x)")])])]),n(" 来表示变量 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"x")]),l("annotation",{encoding:"application/x-tex"},"x")])])]),n(" 的值（可能是常数，UNDEF或者NAC），定义 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"g"),l("mi",null,"e"),l("msub",null,[l("mi",null,"n"),l("mi",null,"s")])]),l("annotation",{encoding:"application/x-tex"},"gen_s")])])]),n(" 如下：")],-1),l("ul",null,[l("li",null,[l("p",null,[l("code",null,"s: x = c; //c is a constant"),n(" ，则 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"g"),l("mi",null,"e"),l("msub",null,[l("mi",null,"n"),l("mi",null,"s")]),l("mo",null,"="),l("mo",{stretchy:"false"},"{"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"c"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},"}")]),l("annotation",{encoding:"application/x-tex"},"gen_s = \\{(x, c)\\}")])])]),n(" ；")])]),l("li",null,[l("p",null,[l("code",null,"s: x = y;"),n(" ，则 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"g"),l("mi",null,"e"),l("msub",null,[l("mi",null,"n"),l("mi",null,"s")]),l("mo",null,"="),l("mo",{stretchy:"false"},"{"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"v"),l("mi",null,"a"),l("mi",null,"l"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},"}")]),l("annotation",{encoding:"application/x-tex"},"gen_s = \\{(x, val(y))\\}")])])]),n(" ；")])]),l("li",null,[l("p",null,[l("code",null,"s: x = y op z;"),n(" ，则 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"g"),l("mi",null,"e"),l("msub",null,[l("mi",null,"n"),l("mi",null,"s")]),l("mo",null,"="),l("mo",{stretchy:"false"},"{"),l("mo",{stretchy:"false"},"("),l("mi",null,"x"),l("mo",{separator:"true"},","),l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{separator:"true"},","),l("mi",null,"z"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},"}")]),l("annotation",{encoding:"application/x-tex"},"gen_s = \\{(x, f(y, z))\\}")])])]),n(" ，其中，")])])],-1),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"f"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{separator:"true"},","),l("mi",null,"z"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mrow",null,[l("mo",{fence:"true"},"{"),l("mtable",{rowspacing:"0.36em",columnalign:"left left",columnspacing:"1em"},[l("mtr",null,[l("mtd",null,[l("mstyle",{scriptlevel:"0",displaystyle:"false"},[l("mrow",null,[l("mi",null,"v"),l("mi",null,"a"),l("mi",null,"l"),l("mo",{stretchy:"false"},"("),l("mi",null,"y"),l("mo",{stretchy:"false"},")"),l("mtext",null," "),l("mi",null,"o"),l("mi",null,"p"),l("mtext",null," "),l("mi",null,"v"),l("mi",null,"a"),l("mi",null,"l"),l("mo",{stretchy:"false"},"("),l("mi",null,"z"),l("mo",{stretchy:"false"},")"),l("mspace",{width:"1em"}),l("mi",null,"i"),l("mi",null,"f"),l("mtext",null," "),l("mi",null,"y"),l("mtext",null," "),l("mi",null,"a"),l("mi",null,"n"),l("mi",null,"d"),l("mtext",null," "),l("mi",null,"z"),l("mtext",null," "),l("mi",null,"a"),l("mi",null,"r"),l("mi",null,"e"),l("mtext",null," "),l("mi",null,"c"),l("mi",null,"o"),l("mi",null,"n"),l("mi",null,"s"),l("mi",null,"t"),l("mi",null,"a"),l("mi",null,"n"),l("mi",null,"t"),l("mi",null,"s")])])])]),l("mtr",null,[l("mtd",null,[l("mstyle",{scriptlevel:"0",displaystyle:"false"},[l("mrow",null,[l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mspace",{width:"1em"}),l("mi",null,"i"),l("mi",null,"f"),l("mtext",null," "),l("mi",null,"y"),l("mtext",null," "),l("mi",null,"o"),l("mi",null,"r"),l("mtext",null," "),l("mi",null,"z"),l("mtext",null," "),l("mi",null,"i"),l("mi",null,"s"),l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C")])])])]),l("mtr",null,[l("mtd",null,[l("mstyle",{scriptlevel:"0",displaystyle:"false"},[l("mrow",null,[l("mi",null,"U"),l("mi",null,"N"),l("mi",null,"D"),l("mi",null,"E"),l("mi",null,"F"),l("mspace",{width:"1em"}),l("mi",null,"o"),l("mi",null,"t"),l("mi",null,"h"),l("mi",null,"e"),l("mi",null,"r"),l("mi",null,"w"),l("mi",null,"i"),l("mi",null,"s"),l("mi",null,"e")])])])])])])]),l("annotation",{encoding:"application/x-tex"},"f(y,z) = \\begin{cases}val(y)\\ op\\ val(z)\\quad if\\ y\\ and\\ z\\ are\\ constants\\\\ NAC\\quad if\\ y\\ or\\ z\\ is NAC\\\\ UNDEF\\quad otherwise\\end{cases} ")])])])],-1),l("blockquote",null,[l("p",null,[n("关于上述第二种情况，我们认为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mi",{mathvariant:"normal"},"/"),l("mn",null,"0")]),l("annotation",{encoding:"application/x-tex"},"NAC/0")])])]),n(" 和 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mtext",null," "),l("mo",{lspace:"0.22em",rspace:"0.22em"},[l("mrow",null,[l("mi",{mathvariant:"normal"},"m"),l("mi",{mathvariant:"normal"},"o"),l("mi",{mathvariant:"normal"},"d")])]),l("mtext",null," "),l("mn",null,"0")]),l("annotation",{encoding:"application/x-tex"},"NAC \\bmod 0")])])]),n(" 的结果为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"U"),l("mi",null,"N"),l("mi",null,"D"),l("mi",null,"E"),l("mi",null,"F")]),l("annotation",{encoding:"application/x-tex"},"UNDEF")])])]),n(" ，当然这对常量优化来说并不重要。")])],-1),l("p",null,[n("如果 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"s")]),l("annotation",{encoding:"application/x-tex"},"s")])])]),n(" 不是赋值语句，那么 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",null,":"),l("mi",null,"O"),l("mi",null,"U"),l("mi",null,"T"),l("mo",{stretchy:"false"},"["),l("mi",null,"s"),l("mo",{stretchy:"false"},"]"),l("mo",null,"="),l("mi",null,"I"),l("mi",null,"N"),l("mo",{stretchy:"false"},"["),l("mi",null,"s"),l("mo",{stretchy:"false"},"]")]),l("annotation",{encoding:"application/x-tex"},"F: OUT[s] = IN[s]")])])]),n(" （Identity Function）。")],-1),l("h3",{id:"_4-6-3-区别",tabindex:"-1"},[n("4.6.3 区别 "),l("a",{class:"header-anchor",href:"#_4-6-3-区别","aria-label":'Permalink to "4.6.3 区别"'},"​")],-1),l("p",null,"我们前面学的3种数据流分析，其转移方程都满足分配律，而常量传播的转移方程是不满足分配律的，我们可以用一个例子来看。",-1),l("p",{style:{"text-align":"center"}},[l("img",{src:k,alt:"cp-eg",style:{zoom:"40%"}})],-1),l("p",null,"在上图的例子中，",-1),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"X"),l("mo",null,"∧"),l("mi",null,"Y"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mo",{stretchy:"false"},"{"),l("mo",{stretchy:"false"},"("),l("mi",null,"a"),l("mo",{separator:"true"},","),l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mo",{stretchy:"false"},"("),l("mi",null,"b"),l("mo",{separator:"true"},","),l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mo",{stretchy:"false"},"("),l("mi",null,"c"),l("mo",{separator:"true"},","),l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},"}")]),l("annotation",{encoding:"application/x-tex"},"F(X \\wedge Y) = \\{(a, NAC), (b, NAC), (c, NAC)\\} ")])])])],-1),l("p",null,"而",-1),l("p",null,[l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"X"),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"Y"),l("mo",{stretchy:"false"},")"),l("mo",null,"="),l("mo",{stretchy:"false"},"{"),l("mo",{stretchy:"false"},"("),l("mi",null,"a"),l("mo",{separator:"true"},","),l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mo",{stretchy:"false"},"("),l("mi",null,"b"),l("mo",{separator:"true"},","),l("mi",null,"N"),l("mi",null,"A"),l("mi",null,"C"),l("mo",{stretchy:"false"},")"),l("mo",{separator:"true"},","),l("mo",{stretchy:"false"},"("),l("mi",null,"c"),l("mo",{separator:"true"},","),l("mn",null,"10"),l("mo",{stretchy:"false"},")"),l("mo",{stretchy:"false"},"}")]),l("annotation",{encoding:"application/x-tex"},"F(X) \\wedge F(Y) = \\{(a, NAC), (b, NAC), (c, 10)\\} ")])])])],-1),l("p",null,[n("虽然 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"X"),l("mo",null,"∧"),l("mi",null,"Y"),l("mo",{stretchy:"false"},")"),l("mo",null,"⪯"),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"X"),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"Y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"F(X \\wedge Y) \\preceq F(X) \\wedge F(Y)")])])]),n(" ，与单调性是契合的；但是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"X"),l("mo",null,"∧"),l("mi",null,"Y"),l("mo",{stretchy:"false"},")"),l("mo",{mathvariant:"normal"},"≠"),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"X"),l("mo",{stretchy:"false"},")"),l("mo",null,"∧"),l("mi",null,"F"),l("mo",{stretchy:"false"},"("),l("mi",null,"Y"),l("mo",{stretchy:"false"},")")]),l("annotation",{encoding:"application/x-tex"},"F(X \\wedge Y) \\ne F(X) \\wedge F(Y)")])])]),n(" ，不满足分配律。")],-1),l("p",null,"因此，迭代算法的精度达不到MOP精度。",-1),l("h2",{id:"_4-7-工作表算法",tabindex:"-1"},[n("4.7 工作表算法 "),l("a",{class:"header-anchor",href:"#_4-7-工作表算法","aria-label":'Permalink to "4.7 工作表算法"'},"​")],-1),l("div",{class:"algorithm"},[l("p",{class:"title"},"算法4.2 可能性（May Analysis）正向（Forward Analysis）数据流分析的工作表（Worklist）算法"),l("iframe",{src:"/posts/StaticAnalytics/04-dfa-fd/may-forward-analysis-worklist.html",frameborder:"no",border:"0",marginwidth:"0",width:"100%",height:"395px",marginheight:"0",scrolling:"auto",style:{"box-shadow":"none"}})],-1),l("p",null,[n("工作表算法是对迭代算法的优化，用一个集合储存下一次遍历会发生变化的基块，这样，已经达到不动点的基块就可以不用重复遍历了。这里需要提一下的是 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"W"),l("mi",null,"o"),l("mi",null,"r"),l("mi",null,"k"),l("mi",null,"l"),l("mi",null,"i"),l("mi",null,"s"),l("mi",null,"t")]),l("annotation",{encoding:"application/x-tex"},"Worklist")])])]),n(" 最好采用去重的集合实现，不然的话， "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"W"),l("mi",null,"o"),l("mi",null,"r"),l("mi",null,"k"),l("mi",null,"l"),l("mi",null,"i"),l("mi",null,"s"),l("mi",null,"t")]),l("annotation",{encoding:"application/x-tex"},"Worklist")])])]),n(" 中可能有重复的基块。")],-1),l("p",null,[n("还有一个需要解释一下的地方是，算法的最后一行只将输出状态发生变化的基块的后继，也就是在下一轮当中输入状态会发生变化的基块加入工作表，这是由于只有当输入状态发生变化时，输出状态才会发生辩护，因为 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"g"),l("mi",null,"e"),l("msub",null,[l("mi",null,"n"),l("mi",null,"B")])]),l("annotation",{encoding:"application/x-tex"},"gen_B")])])]),n(" 和 "),l("span",{class:"katex"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mi",null,"k"),l("mi",null,"i"),l("mi",null,"l"),l("msub",null,[l("mi",null,"l"),l("mi",null,"B")])]),l("annotation",{encoding:"application/x-tex"},"kill_B")])])]),n(" 是提前计算好的，且不会变化的 。")],-1),l("p",null,"其实这个算法本质上是图的广度优先遍历算法的变体，只是加入了一些剪枝的逻辑，每一轮只遍历可能会发生变化的结点，不发生变化的结点提前从遍历逻辑中去除。",-1),l("h2",{id:"_4-8-自检问题",tabindex:"-1"},[n("4.8 自检问题 "),l("a",{class:"header-anchor",href:"#_4-8-自检问题","aria-label":'Permalink to "4.8 自检问题"'},"​")],-1),l("ol",null,[l("li",null,[l("p",null,"如何从函数的角度来看待数据流分析的迭代算法？")]),l("li",null,[l("p",null,"格和全格的定义是什么？")]),l("li",null,[l("p",null,"如何理解不动点定理？")]),l("li",null,[l("p",null,"怎样使用格来总结可能性分析与必然性分析？")]),l("li",null,[l("p",null,"迭代算法提供的解决方案与MOP相比而言精确度如何？")]),l("li",null,[l("p",null,"什么是常量传播（Constant Propagation）分析？")]),l("li",null,[l("p",null,"数据流分析的工作表算法（Worklist Algorithm）是什么？")])],-1),l("div",{class:"tip custom-block"},[l("p",{class:"custom-block-title"},[l("span",{lang:"en"},"作业布置"),l("span",{lang:"zh-CN"},"作业布置")]),l("p",null,[n("到此为止，读者已经具备了完成"),l("a",{href:"https://tai-e.pascal-lab.net/pa2.html",target:"_blank",rel:"noreferrer"},"作业 2：常量传播和 Worklist 求解器"),n("以及"),l("a",{href:"https://tai-e.pascal-lab.net/pa3.html",target:"_blank",rel:"noreferrer"},"作业 3：死代码检测"),n("所需的全部理论知识。")])],-1)])),"main-header":t(()=>[m(a.$slots,"main-header")]),"main-header-after":t(()=>[m(a.$slots,"main-header-after")]),"main-nav":t(()=>[m(a.$slots,"main-nav")]),"main-content":t(()=>[m(a.$slots,"main-content")]),"main-content-after":t(()=>[m(a.$slots,"main-content-after")]),"main-nav-before":t(()=>[m(a.$slots,"main-nav-before")]),"main-nav-after":t(()=>[m(a.$slots,"main-nav-after")]),comment:t(()=>[m(a.$slots,"comment")]),footer:t(()=>[m(a.$slots,"footer")]),aside:t(()=>[m(a.$slots,"aside")]),"aside-custom":t(()=>[m(a.$slots,"aside-custom")]),default:t(()=>[m(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{S as default};
